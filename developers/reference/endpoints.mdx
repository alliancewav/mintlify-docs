---
audience: developer
title: "API Endpoints"
description: "Complete reference for BeatPass API endpoints."
---
audience: developer

## Overview

This page documents the primary API endpoints available at `https://open.beatpass.ca/api/v1`. Endpoints are grouped by functionality.

<Info>
  ðŸ”’ = Requires authentication | ðŸ”“ = Optional auth (enhanced response when authenticated)
</Info>

---
audience: developer

## Tracks

### Core Track Endpoints

| Method | Endpoint                   | Auth | Description           |
| ------ | -------------------------- | ---- | --------------------- |
| GET    | `/tracks`                  | ðŸ”“   | List paginated tracks |
| GET    | `/tracks/{track}`          | ðŸ”“   | Get track details     |
| POST   | `/tracks`                  | ðŸ”’   | Upload new track      |
| PUT    | `/tracks/{track}`          | ðŸ”’   | Update track          |
| DELETE | `/tracks/{ids}`            | ðŸ”’   | Delete track(s)       |
| GET    | `/tracks/{track}/download` | ðŸ”“   | Download track file   |
| GET    | `/tracks/{track}/wave`     | ðŸ”“   | Get waveform data     |
| POST   | `/tracks/{track}/plays`    | ðŸ”“   | Log track play        |

### Track Analytics

| Method | Endpoint                             | Auth | Description                 |
| ------ | ------------------------------------ | ---- | --------------------------- |
| GET    | `/tracks/{track}/producer-analytics` | ðŸ”“   | Track performance analytics |
| GET    | `/tracks/{track}/engagement-metrics` | ðŸ”“   | Engagement metrics          |
| PUT    | `/tracks/{track}/posted-status`      | ðŸ”’   | Update posted status        |

## Analytics Reports

### Insights Report

| Method | Endpoint           | Auth | Description                                                   |
| ------ | ------------------ | ---- | ------------------------------------------------------------- |
| GET    | `/insights-report` | ðŸ”“\* | On-demand analytics report generated by `BuildInsightsReport` |

Generates a multi-metric analytics snapshot for the requested model without using server-side caching. The controller explicitly sends `Cache-Control: no-store, no-cache, must-revalidate, max-age=0` to prevent intermediaries from storing the response.

#### Optional Query Parameters

- `startDate`, `endDate`: ISO 8601 timestamps defining the report window. Omit to use the default range determined by the backend.
- `timezone`: IANA timezone identifier used when bucketing metrics (pairs with `startDate`/`endDate`).
- `metrics`: Comma-separated list of metrics to include. Supported values: `plays`, `devices`, `browsers`, `platforms`, `locations`, `tracks`, `artists`, `albums`, `users`. Defaults to `plays` when omitted.
- `model`: Target for the report in the form `<type>:<id>` (also accepts `<type>=<id>`). Examples: `track:123`, `album:45`, `artist:9`. Use `track_play:0` for global plays (admin-only).
- `_t`: Optional cache-busting timestamp accepted by the endpoint but not used in calculations.

<Tip>
  ðŸ”’ Authentication is required when requesting data for protected resources. Track, album, and artist scoped reports honor authorization checks, and global `track_play` analytics require admin access. No additional rate limits are applied beyond platform defaults.
</Tip>

#### Sample Response

```json Insights Report Response
{
  "status": "success",
  "report": {
    "plays": {
      "granularity": "day",
      "total": 1250,
      "datasets": [
        {
          "label": "Plays",
          "data": [
            {"date": "2025-01-01", "value": 120},
            {"date": "2025-01-02", "value": 175}
          ]
        }
      ]
    },
    "devices": {
      "datasets": [
        {"label": "Plays", "data": [
          {"label": "Mobile", "value": 830},
          {"label": "Desktop", "value": 420}
        ]}
      ]
    }
  }
}
```

The `report` object only includes the metrics requested via the `metrics` parameter.

---
audience: developer

## Track Purchases (Stripe Connect)

Purchase flow endpoints are `auth:sanctum`-protected. The `/artist/sales` route sits outside that middleware group but the controller still requires an authenticated artist and returns `401` otherwise.

| Method | Endpoint                                   | Auth | Description               |
| ------ | ------------------------------------------ | ---- | ------------------------- |
| POST   | `/tracks/{track}/purchase/calculate-price` | ðŸ”’   | Calculate price with fees |
| POST   | `/tracks/{track}/purchase/initiate`        | ðŸ”’   | Start purchase flow       |
| GET    | `/tracks/{track}/purchase/status`          | ðŸ”’   | Check purchase status     |
| GET    | `/purchases`                               | ðŸ”’   | List user's purchases     |
| GET    | `/artist/sales`                            | ðŸ”“\* | Artist's sales history    |

<Note>
  \*Controller checks authentication and artist ownership for `/artist/sales`, returning `401` when unauthenticated.
</Note>

### Purchase Flow

<Steps>
  <Step title="Calculate Price">
    Call the calculate endpoint to get price breakdown before showing to user.
  </Step>
  <Step title="Initiate Purchase">
    Create PaymentIntent and receive client secret for Stripe.js.
  </Step>
  <Step title="Confirm Payment">
    Complete payment on client using Stripe.js with client secret.
  </Step>
  <Step title="Check Status">
    Verify purchase completed and license was generated.
  </Step>
</Steps>

### Calculate Price

<ParamField path="track" type="integer" required>
  The track ID to calculate pricing for.
</ParamField>

<ParamField body="license_type" type="string" required>
  Type of license: `non_exclusive` or `exclusive`
</ParamField>

<ParamField body="coupon_code" type="string">
  Optional coupon code to apply discount.
</ParamField>

#### Response Fields

<ResponseField name="base_price" type="integer" required>
  Track price in cents (e.g., 2999 = \$29.99)
</ResponseField>

<ResponseField name="platform_fee" type="integer" required>
  Platform fee in cents
</ResponseField>

<ResponseField name="processing_fee" type="integer" required>
  Stripe processing fee in cents
</ResponseField>

<ResponseField name="total" type="integer" required>
  Total amount buyer pays in cents
</ResponseField>

<ResponseField name="currency" type="string" required>
  Currency code (lowercase, e.g., `usd`)
</ResponseField>

<ResponseField name="artist_receives" type="integer" required>
  Amount artist receives after fees in cents
</ResponseField>

<ResponseField name="discount" type="object">
  <Expandable title="Discount object (if coupon applied)">
    <ResponseField name="code" type="string">
      Applied coupon code
    </ResponseField>
    <ResponseField name="amount" type="integer">
      Discount amount in cents
    </ResponseField>
    <ResponseField name="type" type="string">
      Discount type: `percentage` or `fixed`
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash Calculate Price
curl -X POST "https://open.beatpass.ca/api/v1/tracks/123/purchase/calculate-price" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"license_type": "non_exclusive"}'
```

</RequestExample>

<ResponseExample>

```json Calculate Price Response
{
  "base_price": 2999,
  "platform_fee": 450,
  "processing_fee": 117,
  "total": 3566,
  "currency": "usd",
  "artist_receives": 2432
}
```

</ResponseExample>

### Initiate Purchase

<ParamField path="track" type="integer" required>
  The track ID to purchase.
</ParamField>

<ParamField body="license_type" type="string" required>
  Type of license: `non_exclusive` or `exclusive`
</ParamField>

<ParamField body="coupon_code" type="string">
  Optional coupon code for discount.
</ParamField>

#### Response Fields

<ResponseField name="client_secret" type="string" required>
  Stripe PaymentIntent client secret for frontend confirmation
</ResponseField>

<ResponseField name="payment_intent_id" type="string" required>
  Stripe PaymentIntent ID for reference
</ResponseField>

<ResponseField name="amount" type="integer" required>
  Total amount in cents
</ResponseField>

<ResponseField name="currency" type="string" required>
  Currency code
</ResponseField>

<RequestExample>

```bash Initiate Purchase
curl -X POST "https://open.beatpass.ca/api/v1/tracks/123/purchase/initiate" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"license_type": "non_exclusive"}'
```

</RequestExample>

<ResponseExample>

```json Initiate Purchase Response
{
  "client_secret": "pi_1234_secret_5678",
  "payment_intent_id": "pi_1234",
  "amount": 3566,
  "currency": "usd"
}
```

</ResponseExample>

### Purchase Error Cases

| Error                  | HTTP Code | Cause                                               |
| ---------------------- | --------- | --------------------------------------------------- |
| `track_not_for_sale`   | 400       | Track doesn't have pricing configured               |
| `already_purchased`    | 400       | User already owns this license                      |
| `exclusive_sold`       | 400       | Exclusive license already purchased by another user |
| `artist_not_onboarded` | 400       | Artist hasn't completed Stripe Connect setup        |
| `payment_failed`       | 402       | Stripe payment processing failed                    |

---
audience: developer

## License Certificates

| Method | Endpoint                               | Auth | Description                  |
| ------ | -------------------------------------- | ---- | ---------------------------- |
| POST   | `/tracks/{track}/generate-license`     | ðŸ”’   | Generate license certificate |
| GET    | `/tracks/{track}/check-license`        | ðŸ”’   | Check if user has license    |
| GET    | `/tracks/{track}/download-license-pdf` | ðŸ”’   | Download PDF certificate     |
| GET    | `/verify-license/{uuid}`               | ðŸ”“   | Public license verification  |
| POST   | `/licenses/{uuid}/revoke`              | ðŸ”’   | Revoke a license             |
| GET    | `/user/licenses`                       | ðŸ”’   | List user's licenses         |

### Check License

<ParamField path="track" type="integer" required>
  The track ID to check license for.
</ParamField>

#### Response Fields

<ResponseField name="has_license" type="boolean" required>
  Whether the authenticated user has a valid license for this track.
</ResponseField>

<ResponseField name="license" type="object">
  <Expandable title="License object (if exists)">
    <ResponseField name="uuid" type="string" required>
      Unique license identifier for verification
    </ResponseField>
    <ResponseField name="type" type="string" required>
      License type: `non_exclusive` or `exclusive`
    </ResponseField>
    <ResponseField name="issued_at" type="string" required>
      ISO 8601 timestamp when license was issued
    </ResponseField>
    <ResponseField name="status" type="string" required>
      License status: `active`, `expired`, or `revoked`
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash Check License
curl "https://open.beatpass.ca/api/v1/tracks/123/check-license" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

</RequestExample>

<ResponseExample>

```json Check License Response
{
  "has_license": true,
  "license": {
    "uuid": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "type": "non_exclusive",
    "issued_at": "2025-10-15T14:30:00Z",
    "status": "active"
  }
}
```

</ResponseExample>

### Verify License (Public)

Anyone can verify a license using its UUIDâ€”no authentication required.

<ParamField path="uuid" type="string" required>
  The unique license UUID to verify.
</ParamField>

#### Response Fields

<ResponseField name="valid" type="boolean" required>
  Whether the license is valid and active.
</ResponseField>

<ResponseField name="license" type="object">
  <Expandable title="License details">
    <ResponseField name="type" type="string" required>
      Human-readable license type
    </ResponseField>
    <ResponseField name="track" type="string" required>
      Track name
    </ResponseField>
    <ResponseField name="artist" type="string" required>
      Producer/artist name
    </ResponseField>
    <ResponseField name="licensee" type="string" required>
      Name of license holder
    </ResponseField>
    <ResponseField name="issued_at" type="string" required>
      Date license was issued
    </ResponseField>
    <ResponseField name="status" type="string" required>
      Current status: `active`, `expired`, or `revoked`
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash Verify License
curl "https://open.beatpass.ca/api/v1/verify-license/a1b2c3d4-e5f6-7890-abcd-ef1234567890"
```

</RequestExample>

<ResponseExample>

```json Verification Response
{
  "valid": true,
  "license": {
    "type": "Non-Exclusive License",
    "track": "Midnight Chase",
    "artist": "ProducerName",
    "licensee": "BuyerName",
    "issued_at": "2025-10-15",
    "status": "active"
  }
}
```

</ResponseExample>

### License Error Cases

| Error               | HTTP Code | Cause                            |
| ------------------- | --------- | -------------------------------- |
| `no_purchase`       | 404       | User hasn't purchased this track |
| `license_not_found` | 404       | License UUID doesn't exist       |
| `already_revoked`   | 400       | License was already revoked      |
| `not_owner`         | 403       | User doesn't own this license    |

---
audience: developer

### Backstage Artist Dashboard & Insights

All endpoints below require an authenticated Backstage session with the `artist.dashboard:read` scope. Upload insights additionally require `upload_access` on the artist profile.

| Method | Endpoint                                | Auth | Description                                              |
| ------ | --------------------------------------- | ---- | -------------------------------------------------------- |
| GET    | `/artist/profile`                       | ðŸ”’   | Current artist profile tied to the authenticated user    |
| GET    | `/artist/dashboard-stats`               | ðŸ”’   | Dashboard cards for plays, contribution, and top track   |
| GET    | `/artist/track-performance`             | ðŸ”’   | Recent tracks with plays, contribution, and upload dates |
| GET    | `/artist/upload-insights`               | ðŸ”’   | Upload velocity, best month, and cadence recommendations |
| GET    | `/artist/{artist}/collaborative-tracks` | ðŸ”’   | Co-produced tracks and collaborators for the artist      |

#### Response highlights

- **Plays & contribution:** `/artist/dashboard-stats` returns `total_plays`, `average_plays_per_track`, and `play_growth_percentage`, plus a `top_track` object with `plays` and `contribution_value`.
- **Followers:** Pair the dashboard calls with `/artists/{artist}/followers` to populate follower counts and recent followers in the Backstage widget.
- **Upload health:** `/artist/upload-insights` returns `uploads_this_month`, `uploads_last_month`, `average_plays_per_upload`, `best_performing_month`, and `recommended_upload_time`. A `403` is returned when `upload_access` is disabled.
- **Co-produced content:** Use `/artist/{artist}/collaborative-tracks` (or `/artists/{artistId}/collaborative-tracks/{collaboratorId}` for a filtered view) to show collaborative tracks alongside solo uploads.

---
audience: developer

## Exclusive License Presets

Producers can create reusable exclusive license configurations that pre-fill pricing and terms for new tracks.

| Method | Endpoint                                          | Auth | Description                   |
| ------ | ------------------------------------------------- | ---- | ----------------------------- |
| GET    | `/exclusive-license-presets`                      | ðŸ”’   | List user's presets           |
| GET    | `/exclusive-license-presets/default-config`       | ðŸ”’   | Get platform default config   |
| GET    | `/exclusive-license-presets/{preset}`             | ðŸ”’   | Get preset details            |
| POST   | `/exclusive-license-presets`                      | ðŸ”’   | Create new preset             |
| PUT    | `/exclusive-license-presets/{preset}`             | ðŸ”’   | Update preset                 |
| DELETE | `/exclusive-license-presets/{preset}`             | ðŸ”’   | Delete preset                 |
| POST   | `/exclusive-license-presets/{preset}/set-default` | ðŸ”’   | Set as default for new tracks |

### Artist Default Exclusive Config

| Method | Endpoint                            | Auth | Description                  |
| ------ | ----------------------------------- | ---- | ---------------------------- |
| GET    | `/artist/exclusive-license-default` | ðŸ”’   | Get current default config   |
| POST   | `/artist/exclusive-license-default` | ðŸ”’   | Set default exclusive config |

### How Presets Work

1. **Create a preset** with your preferred exclusive pricing, terms, and restrictions
2. **Set as default** to auto-apply to all new track uploads
3. **Override per-track** if needed when uploading or editing

<Tip>
  Use presets to ensure consistent exclusive pricing across your catalog without re-entering details for each track.
</Tip>

---
audience: developer

## Artists

### Core Artist Endpoints

| Method | Endpoint                      | Auth | Description        |
| ------ | ----------------------------- | ---- | ------------------ |
| GET    | `/artists`                    | ðŸ”“   | List artists       |
| GET    | `/artists/{artist}`           | ðŸ”“   | Get artist details |
| POST   | `/artists`                    | ðŸ”’   | Create artist      |
| PUT    | `/artists/{artist}`           | ðŸ”’   | Update artist      |
| DELETE | `/artists/{ids}`              | ðŸ”’   | Delete artist(s)   |
| GET    | `/artists/{artist}/tracks`    | ðŸ”“   | Artist's tracks    |
| GET    | `/artists/{artist}/albums`    | ðŸ”“   | Artist's albums    |
| GET    | `/artists/{artist}/followers` | ðŸ”“   | Artist's followers |

### Artist Follow System

| Method | Endpoint                            | Auth | Description         |
| ------ | ----------------------------------- | ---- | ------------------- |
| POST   | `/artists/{artistId}/follow`        | ðŸ”’   | Follow artist       |
| POST   | `/artists/{artistId}/unfollow`      | ðŸ”’   | Unfollow artist     |
| GET    | `/artists/{artistId}/follow-status` | ðŸ”“   | Check follow status |

### Artist Analytics

| Method | Endpoint                                  | Auth | Description         |
| ------ | ----------------------------------------- | ---- | ------------------- |
| GET    | `/artists/{artist}/producer-analytics`    | ðŸ”“   | Producer analytics  |
| GET    | `/artists/{artist}/downloads-analytics`   | ðŸ”“   | Downloads breakdown |
| GET    | `/artists/{artist}/producer-achievements` | ðŸ”“   | Achievement list    |

### Collaboration Discovery

| Method | Endpoint                                            | Auth | Description                                          |
| ------ | --------------------------------------------------- | ---- | ---------------------------------------------------- |
| GET    | `/artists/{artistId}/collaboration-recommendations` | ðŸ”“   | Genre-matched artists you have not collaborated with |

**Response fields**

- `artist_genres`: Array of detected genres used for matching.
- `total_found`: Count of recommendations returned.
- `recommendations`: Array of artists with `id`, `name`, `avatar`, `verified`, `track_count`, `common_genres`, and `similarity_score` percentage.

**Usage notes**

- Authentication is optional, but passing a valid `artistId` is required. Existing collaborators are filtered out automatically.
- Sort by `similarity_score` to surface the best-fit partners, then direct users to the returned artist IDs or profile URLs.
- Empty `recommendations` indicates no genre overlap; fall back to manual searching.

### Ownership Validation

| Method | Endpoint                            | Auth | Description                                            |
| ------ | ----------------------------------- | ---- | ------------------------------------------------------ |
| GET    | `/artists/{artist}/check-ownership` | ðŸ”“   | Determine whether an artist profile is already claimed |

**Response example**

```json
{
  "owned": true,
  "artist_id": 123,
  "artist_name": "Example Artist"
}
```

**Who should call it**

- Public endpoint; use it before showing claim flows, merge prompts, or allowing profile edits.

**Troubleshooting**

- `owned: true` for the wrong person: escalate to support with evidence before transferring ownership.
- `404`: Invalid `artist` parameter; ensure you are using the numeric ID.
- Intermittent `500`/empty payloads: retry briefly, then contact support if the error persists.

### Track Pinning

| Method | Endpoint                                     | Auth | Description          |
| ------ | -------------------------------------------- | ---- | -------------------- |
| POST   | `/artists/{artistId}/tracks/{trackId}/pin`   | ðŸ”’   | Pin track to profile |
| POST   | `/artists/{artistId}/tracks/{trackId}/unpin` | ðŸ”’   | Unpin track          |
| GET    | `/artists/{artistId}/pinned-track`           | ðŸ”“   | Get pinned track     |

---
audience: developer

## Albums

| Method | Endpoint                             | Auth | Description       |
| ------ | ------------------------------------ | ---- | ----------------- |
| GET    | `/albums`                            | ðŸ”“   | List albums       |
| GET    | `/albums/{album}`                    | ðŸ”“   | Get album details |
| POST   | `/albums`                            | ðŸ”’   | Create album      |
| PUT    | `/albums/{album}`                    | ðŸ”’   | Update album      |
| DELETE | `/albums/{ids}`                      | ðŸ”’   | Delete album(s)   |
| GET    | `/albums/{album}/producer-analytics` | ðŸ”“   | Album analytics   |

---
audience: developer

## Playlists

| Method | Endpoint                   | Auth | Description          |
| ------ | -------------------------- | ---- | -------------------- |
| GET    | `/playlists`               | ðŸ”“   | List playlists       |
| GET    | `/playlists/{id}`          | ðŸ”“   | Get playlist details |
| POST   | `/playlists`               | ðŸ”’   | Create playlist      |
| PUT    | `/playlists/{playlist}`    | ðŸ”’   | Update playlist      |
| DELETE | `/playlists/{ids}`         | ðŸ”’   | Delete playlist(s)   |
| POST   | `/playlists/{id}/follow`   | ðŸ”’   | Follow playlist      |
| POST   | `/playlists/{id}/unfollow` | ðŸ”’   | Unfollow playlist    |

### Playlist Tracks

| Method | Endpoint                              | Auth | Description         |
| ------ | ------------------------------------- | ---- | ------------------- |
| GET    | `/playlists/{id}/tracks`              | ðŸ”“   | Get playlist tracks |
| POST   | `/playlists/{playlist}/tracks/add`    | ðŸ”’   | Add tracks          |
| POST   | `/playlists/{playlist}/tracks/remove` | ðŸ”’   | Remove tracks       |
| POST   | `/playlists/{playlist}/tracks/order`  | ðŸ”’   | Reorder tracks      |

### Collaborative Playlists

| Method | Endpoint                               | Auth | Description    |
| ------ | -------------------------------------- | ---- | -------------- |
| POST   | `/playlists/{playlist}/invite`         | ðŸ”’   | Invite editor  |
| POST   | `/playlists/{playlist}/accept-invite`  | ðŸ”’   | Accept invite  |
| POST   | `/playlists/{playlist}/decline-invite` | ðŸ”’   | Decline invite |
| POST   | `/playlists/{playlist}/remove-editor`  | ðŸ”’   | Remove editor  |

---
audience: developer

## Search

| Method | Endpoint                                           | Auth | Description        |
| ------ | -------------------------------------------------- | ---- | ------------------ |
| GET    | `/search`                                          | ðŸ”“   | Full-text search   |
| GET    | `/search/audio/{trackId}/{artistName}/{trackName}` | ðŸ”“   | Audio search       |
| GET    | `/search/suggestions/artist`                       | ðŸ”“   | Artist suggestions |
| GET    | `/search/suggestions/album`                        | ðŸ”“   | Album suggestions  |

---
audience: developer

## Messaging

All messaging endpoints require authentication.

| Method | Endpoint                                               | Description                 |
| ------ | ------------------------------------------------------ | --------------------------- |
| GET    | `/messaging/conversations`                             | List conversations          |
| GET    | `/messaging/conversations/{id}/messages`               | Get messages                |
| GET    | `/messaging/conversations/{id}/messages-with-receipts` | Messages with read receipts |
| POST   | `/messaging/messages`                                  | Send message                |
| POST   | `/messaging/conversations/start`                       | Start new conversation      |
| POST   | `/messaging/conversations/{id}/read`                   | Mark conversation read      |
| POST   | `/messaging/messages/{id}/read`                        | Mark message read           |
| DELETE | `/messaging/conversations/{id}`                        | Delete conversation         |
| GET    | `/messaging/unread-count`                              | Get unread count            |
| GET    | `/messaging/search-users`                              | Search users to message     |
| GET    | `/messaging/followed-users`                            | Get followed users          |

### Typing Indicators

| Method | Endpoint                               | Description       |
| ------ | -------------------------------------- | ----------------- |
| POST   | `/messaging/conversations/{id}/typing` | Set typing status |
| GET    | `/messaging/conversations/{id}/typing` | Get typing status |

---
audience: developer

## Beat Requests

All beat request endpoints require authentication.

| Method | Endpoint                                | Description         |
| ------ | --------------------------------------- | ------------------- |
| GET    | `/beat-requests`                        | List beat requests  |
| POST   | `/beat-requests`                        | Create beat request |
| GET    | `/beat-requests/{id}`                   | Get request details |
| DELETE | `/beat-requests/{id}`                   | Delete request      |
| POST   | `/beat-requests/{id}/fulfill`           | Fulfill request     |
| GET    | `/beat-requests/user/my-requests`       | User's own requests |
| GET    | `/beat-requests/user/rate-limit-status` | Check rate limit    |
| GET    | `/beat-requests/statistics`             | Platform statistics |

---
audience: developer

## Producer Intelligence

### Public Endpoints (No Auth Required)

| Method | Endpoint                                           | Description              |
| ------ | -------------------------------------------------- | ------------------------ |
| GET    | `/producer-intelligence/leaderboard`               | Global leaderboards      |
| GET    | `/producer-intelligence/collaboration-leaderboard` | Collaboration rankings   |
| POST   | `/producer-intelligence/tracks/growth-batch`       | Batch track growth rates |
| GET    | `/producer-intelligence/track/{trackId}/growth`    | Single track growth      |

### Authenticated Endpoints

| Method | Endpoint                                           | Description         |
| ------ | -------------------------------------------------- | ------------------- |
| GET    | `/producer-intelligence/dashboard`                 | Full dashboard data |
| GET    | `/producer-intelligence/xp-sources`                | XP breakdown        |
| GET    | `/producer-intelligence/achievements`              | User achievements   |
| GET    | `/producer-intelligence/achievements/{id}/details` | Achievement details |
| GET    | `/producer-intelligence/producer-level`            | Current level/XP    |
| GET    | `/producer-intelligence/progress-data`             | Combined progress   |

### Social Analytics

| Method | Endpoint                                             | Description       |
| ------ | ---------------------------------------------------- | ----------------- |
| GET    | `/producer-intelligence/social-analytics`            | Social metrics    |
| GET    | `/producer-intelligence/social-activity-feed`        | Activity feed     |
| GET    | `/producer-intelligence/collaboration-network`       | Network graph     |
| GET    | `/producer-intelligence/trending-collaborations`     | Trending collabs  |
| GET    | `/producer-intelligence/collaboration-opportunities` | Suggested collabs |

---
audience: developer

## Contribution & Payouts

| Method | Endpoint                         | Auth | Description           |
| ------ | -------------------------------- | ---- | --------------------- |
| GET    | `/producer/earnings`             | ðŸ”“   | Earnings estimate     |
| GET    | `/producer/track-breakdown`      | ðŸ”“   | Per-track breakdown   |
| GET    | `/tracks/{track}/contribution`   | ðŸ”“   | Track contribution    |
| POST   | `/producer/update-contributions` | ðŸ”’   | Update contributions  |
| GET    | `/platform/stats`                | ðŸ”“   | Platform statistics   |
| GET    | `/platform/top-tracks`           | ðŸ”“   | Top performing tracks |

### Payout Analytics

| Method | Endpoint                        | Auth | Description          |
| ------ | ------------------------------- | ---- | -------------------- |
| GET    | `/payout/analytics`             | ðŸ”“   | Payout analytics     |
| GET    | `/payout/projections`           | ðŸ”“   | Earnings projections |
| GET    | `/payout/trends`                | ðŸ”“   | Trend data           |
| GET    | `/payout/leaderboard`           | ðŸ”“   | Payout leaderboard   |
| GET    | `/payout-cycle`                 | ðŸ”“   | Current payout cycle |
| GET    | `/producer/payout-history`      | ðŸ”“   | History              |
| GET    | `/producer/contribution-trends` | ðŸ”“   | Contribution trends  |

---
audience: developer

## Stripe Connect (Artists)

All endpoints require authentication.

| Method | Endpoint                               | Description            |
| ------ | -------------------------------------- | ---------------------- |
| GET    | `/artist/stripe-connect/status`        | Onboarding status      |
| POST   | `/artist/stripe-connect/onboard`       | Create onboarding link |
| GET    | `/artist/stripe-connect/finances`      | Financial overview     |
| GET    | `/artist/subscription-payouts`         | Subscription payouts   |
| GET    | `/artist/subscription-payouts/summary` | Payout summary         |
| GET    | `/artist/unified-transactions`         | All transactions       |

---
audience: developer

## User Profile & Library

| Method | Endpoint                        | Auth | Description         |
| ------ | ------------------------------- | ---- | ------------------- |
| GET    | `/user-profile/{user}`          | ðŸ”“   | Get user profile    |
| PUT    | `/users/profile/update`         | ðŸ”’   | Update profile      |
| GET    | `/users/{user}/liked-tracks`    | ðŸ”“   | Liked tracks        |
| GET    | `/users/{user}/liked-albums`    | ðŸ”“   | Liked albums        |
| GET    | `/users/{user}/liked-artists`   | ðŸ”“   | Liked artists       |
| GET    | `/users/{user}/playlists`       | ðŸ”“   | User playlists      |
| GET    | `/users/{user}/followers`       | ðŸ”“   | User followers      |
| GET    | `/users/{user}/followed-users`  | ðŸ”“   | Following list      |
| POST   | `/users/me/add-to-library`      | ðŸ”’   | Add to library      |
| POST   | `/users/me/remove-from-library` | ðŸ”’   | Remove from library |

### User Following

| Method | Endpoint                    | Auth | Description         |
| ------ | --------------------------- | ---- | ------------------- |
| POST   | `/users/{id}/follow`        | ðŸ”’   | Follow user         |
| POST   | `/users/{id}/unfollow`      | ðŸ”’   | Unfollow user       |
| GET    | `/users/{id}/follow-status` | ðŸ”“   | Check follow status |

### Deprecated Endpoints

<Warning>
  **Deprecated:** `GET /users/{user}/producer-dashboard`

  This endpoint is deprecated and will be removed in a future version. Use `/producer-intelligence/dashboard` instead for producer analytics.
</Warning>

---
audience: developer

## Audio Fingerprinting

| Method | Endpoint                             | Auth | Description          |
| ------ | ------------------------------------ | ---- | -------------------- |
| POST   | `/tracks/{track}/fingerprint`        | ðŸ”’   | Generate fingerprint |
| GET    | `/tracks/{track}/fingerprint/status` | ðŸ”’   | Check status         |
| POST   | `/tracks/check-duplicates`           | ðŸ”’   | Check for duplicates |

---
audience: developer

## Genres & Tags

| Method | Endpoint                 | Auth | Description   |
| ------ | ------------------------ | ---- | ------------- |
| GET    | `/genres`                | ðŸ”“   | List genres   |
| GET    | `/genres/{name}`         | ðŸ”“   | Genre details |
| GET    | `/tags/{tagName}/tracks` | ðŸ”“   | Tracks by tag |
| GET    | `/tags/{tagName}/albums` | ðŸ”“   | Albums by tag |

---
audience: developer

## Leaderboards

| Method | Endpoint                      | Auth | Description            |
| ------ | ----------------------------- | ---- | ---------------------- |
| GET    | `/leaderboard/stats`          | ðŸ”“   | Leaderboard statistics |
| GET    | `/leaderboards/global`        | ðŸ”“   | Global rankings        |
| GET    | `/leaderboards/genre/{genre}` | ðŸ”“   | Genre rankings         |
| GET    | `/leaderboards/rising-stars`  | ðŸ”“   | Rising producers       |
| GET    | `/leaderboards/achievements`  | ðŸ”“   | Achievement leaders    |

---
audience: developer

## Error Codes

<AccordionGroup>
  <Accordion title="400 - Bad Request" icon="circle-exclamation">
    Invalid parameters provided. Check your request body and query parameters match the expected format.
  </Accordion>
  <Accordion title="401 - Unauthorized" icon="lock">
    Missing or invalid authentication token. Include a valid `Authorization: Bearer` header.
  </Accordion>
  <Accordion title="403 - Forbidden" icon="ban">
    Insufficient permissions for this action. The authenticated user cannot access this resource.
  </Accordion>
  <Accordion title="404 - Not Found" icon="question">
    The requested resource doesn't exist. Verify the endpoint path and resource ID.
  </Accordion>
  <Accordion title="422 - Unprocessable Entity" icon="triangle-exclamation">
    Validation failed. The request format is correct but the data doesn't pass validation rules.
  </Accordion>
  <Accordion title="429 - Too Many Requests" icon="gauge-high">
    Rate limit exceeded. Wait before retrying. Check `Retry-After` header for timing.
  </Accordion>
  <Accordion title="500 - Server Error" icon="server">
    Internal server error. Contact support if the issue persists.
  </Accordion>
</AccordionGroup>

---
audience: developer

## Notifications (First-Party Only)

<Warning>
  The notifications stream is for first-party BeatPass applications only.
</Warning>

| Method | Endpoint                | Auth | Description                            |
| ------ | ----------------------- | ---- | -------------------------------------- |
| GET    | `/notifications/stream` | ðŸ”’   | SSE stream for real-time notifications |

### SSE Notifications Stream

The notifications stream uses Server-Sent Events (SSE) to deliver real-time notifications.

```http
GET /api/v1/notifications/stream
Authorization: Bearer YOUR_TOKEN
Accept: text/event-stream
```

**Event Format:**

```
event: notification
data: {"type": "new_follower", "message": "...", "created_at": "..."}
```

### Event Types

<CardGroup cols={3}>
  <Card title="new_follower" icon="user-plus">
    Someone followed your profile
  </Card>
  <Card title="track_like" icon="heart">
    Someone liked your track
  </Card>
  <Card title="track_save" icon="bookmark">
    Track saved to library
  </Card>
  <Card title="message_received" icon="envelope">
    New direct message
  </Card>
  <Card title="purchase_completed" icon="cart-shopping">
    Track license purchased
  </Card>
  <Card title="payout_processed" icon="money-bill-wave">
    Earnings payout sent
  </Card>
  <Card title="request_fulfilled" icon="check-circle">
    Beat request fulfilled
  </Card>
  <Card title="achievement_unlocked" icon="trophy">
    New achievement earned
  </Card>
  <Card title="comment_received" icon="comment">
    Comment on your track
  </Card>
</CardGroup>

### Reconnection Strategy

<Note>
  Keep the connection open to receive notifications. If disconnected:

  1. Wait 1 second, then reconnect
  2. If failed, wait 2 seconds (exponential backoff)
  3. Max backoff: 30 seconds
  4. Include `Last-Event-ID` header to resume from last received event
</Note>

---
audience: developer

## Collections (Albums & Library)

There is no separate `/collections` resource in the public API. What the BeatPass UI calls **collections** are implemented as:

- **Albums** â€“ canonical releases created by producers.
- **Liked albums** â€“ a users saved collections in their library.

Use the following sections for API access:

- [Albums](#albums) for listing and managing album data.
- [User Profile & Library](#user-profile--library) for a users liked albums and playlists.

For featured collections on the homepage and discovery surfaces, the client consumes:

- `GET /api/v1/carousel/albums` (not listed in detail here) to fetch curated album carousels.

Refer to the [Albums](#albums) table above for the primary album endpoints.

---
audience: developer

## Radio & Recommendations

<Note>
  Radio endpoints generate track recommendations based on seed content. These are internal recommendation algorithms used by the BeatPass player.
</Note>

| Method | Endpoint             | Auth | Description                       |
| ------ | -------------------- | ---- | --------------------------------- |
| GET    | `/radio/{type}/{id}` | ðŸ”“   | Get recommendations based on seed |

### Supported Seed Types

<Tabs>
  <Tab title="track">
    **Track ID** â€” Returns similar tracks based on audio features, metadata, and listener patterns.
  </Tab>
  <Tab title="artist">
    **Artist ID** â€” Returns tracks from the specified artist and similar producers in the same genre.
  </Tab>
  <Tab title="genre">
    **Genre slug** â€” Returns popular and trending tracks across the entire genre.
  </Tab>
</Tabs>

### Request Parameters

| Parameter | Type    | Default | Description                          |
| --------- | ------- | ------- | ------------------------------------ |
| `limit`   | integer | 20      | Number of tracks to return (max: 50) |

### Example Request

```http
GET /api/v1/radio/track/12345?limit=25
```

### Response

Returns an array of track objects suitable for continuous playback.

### Usage Notes

- Radio is designed for discovery and continuous listening
- Results are influenced by the seed's characteristics
- Authenticated requests may return personalized results

### Rate Limits & Behavior

| Constraint            | Value |
| --------------------- | ----- |
| Requests per minute   | 30    |
| Max seeds per request | 1     |
| Max limit parameter   | 50    |

### How Seed Type Affects Results

| Seed Type | Result Behavior                                                                  |
| --------- | -------------------------------------------------------------------------------- |
| `track`   | Narrowest resultsâ€”tracks with similar BPM, key, genre, and audio characteristics |
| `artist`  | Mixed resultsâ€”tracks by the artist plus similar producers in the same genre      |
| `genre`   | Broadest resultsâ€”popular and trending tracks across the entire genre             |

---
audience: developer

## Lyrics

| Method | Endpoint              | Auth | Description            |
| ------ | --------------------- | ---- | ---------------------- |
| GET    | `/lyrics`             | ðŸ”“   | List lyrics entries    |
| POST   | `/lyrics`             | ðŸ”’   | Add lyrics to a track  |
| GET    | `/tracks/{id}/lyrics` | ðŸ”“   | Get lyrics for a track |
| PUT    | `/lyrics/{id}`        | ðŸ”’   | Update lyrics          |
| DELETE | `/lyrics/{ids}`       | ðŸ”’   | Delete lyrics          |

<Note>
  Only track owners can add or edit lyrics for their tracks.
</Note>

---
audience: developer

## Coupons & Discounts

<Note>
  Coupon endpoints are available for subscription and track purchases. Admin-only creation endpoints are not documented here.
</Note>

| Method | Endpoint                                   | Auth | Description                         |
| ------ | ------------------------------------------ | ---- | ----------------------------------- |
| GET    | `/coupons`                                 | ðŸ”“   | List available coupons              |
| POST   | `/coupons/validate`                        | ðŸ”“   | Validate a coupon code              |
| GET    | `/coupons/available-for-product/{product}` | ðŸ”“   | Get coupons for a product           |
| GET    | `/plans/{planId}/coupons`                  | ðŸ”’   | Get coupons for a subscription plan |

### Coupon Validation

```http
POST /api/v1/coupons/validate
Content-Type: application/json

{
  "code": "SAVE20",
  "product_type": "track",
  "product_id": 123
}
```

**Response:**

```json
{
  "valid": true,
  "discount_type": "percentage",
  "discount_value": 20,
  "applies_to": "first_payment"
}
```

---
audience: developer

## Reposts

| Method | Endpoint                | Auth | Description                 |
| ------ | ----------------------- | ---- | --------------------------- |
| POST   | `/reposts/toggle`       | ðŸ”’   | Repost or un-repost content |
| GET    | `/users/{user}/reposts` | ðŸ”“   | Get user's reposts          |

### Toggle Repost

```http
POST /api/v1/reposts/toggle
Content-Type: application/json

{
  "repostable_type": "track",
  "repostable_id": 123
}
```

Reposts share content to your profile, making it visible to your followers.

---
audience: developer

## Player (First-Party Only)

<Warning>
  Player endpoints are for the official BeatPass player only.
</Warning>

| Method | Endpoint                                | Auth | Description              |
| ------ | --------------------------------------- | ---- | ------------------------ |
| POST   | `/player/tracks`                        | ðŸ”“   | Load tracks for playback |
| POST   | `/tracks/{track}/plays`                 | ðŸ”“   | Log a track play         |
| POST   | `/tracks/plays/{track}/log`             | ðŸ”“   | Log play event           |
| POST   | `/tracks/plays/{track}/update-duration` | ðŸ”“   | Update play duration     |

---
audience: developer

## User Upload/Usage Quota

| Method | Endpoint                     | Auth | Description                                                              |
| ------ | ---------------------------- | ---- | ------------------------------------------------------------------------ |
| GET    | `/users/{user}/minutes-left` | ðŸ”“   | Check remaining usage minutes (for example, upload or processing budget) |

<Note>
  This endpoint does **not** control or report streaming playback time. It is used for internal usage budgeting (such as upload or processing time) and may not be exposed in the public UI.
</Note>

---
audience: developer

## Next Steps

<CardGroup cols={2}>
  <Card title="Authentication" icon="key" href="/developers/auth">
    Set up API authentication.
  </Card>
  <Card title="Rate Limits" icon="gauge" href="/developers/rate-limits">
    Understand usage limits.
  </Card>
</CardGroup>