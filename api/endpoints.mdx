---
title: "API Endpoints"
description: "Complete reference for BeatPass API endpoints."
---

## Overview

This page documents the primary API endpoints available at `https://beta.beatpass.ca/api/v1`. Endpoints are grouped by functionality.

<Info>
  ðŸ”’ = Requires authentication | ðŸ”“ = Optional auth (enhanced response when authenticated)
</Info>

---

## Tracks

### Core Track Endpoints

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/tracks` | ðŸ”“ | List paginated tracks |
| GET | `/tracks/{track}` | ðŸ”“ | Get track details |
| POST | `/tracks` | ðŸ”’ | Upload new track |
| PUT | `/tracks/{track}` | ðŸ”’ | Update track |
| DELETE | `/tracks/{ids}` | ðŸ”’ | Delete track(s) |
| GET | `/tracks/{track}/download` | ðŸ”“ | Download track file |
| GET | `/tracks/{track}/wave` | ðŸ”“ | Get waveform data |
| POST | `/tracks/{track}/plays` | ðŸ”“ | Log track play |

### Track Analytics

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/tracks/{track}/producer-analytics` | ðŸ”“ | Track performance analytics |
| GET | `/tracks/{track}/engagement-metrics` | ðŸ”“ | Engagement metrics |
| PUT | `/tracks/{track}/posted-status` | ðŸ”’ | Update posted status |

---

## Track Purchases (Stripe Connect)

All purchase endpoints require authentication.

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/tracks/{track}/purchase/calculate-price` | Calculate price with fees |
| POST | `/tracks/{track}/purchase/initiate` | Start purchase flow |
| GET | `/tracks/{track}/purchase/status` | Check purchase status |
| GET | `/purchases` | List user's purchases |
| GET | `/artist/sales` | Artist's sales history |

### Purchase Flow

<Steps>
  <Step title="Calculate Price">
    ```http
    POST /tracks/{track}/purchase/calculate-price
    ```
    Returns price breakdown including platform fees.
  </Step>
  
  <Step title="Initiate Purchase">
    ```http
    POST /tracks/{track}/purchase/initiate
    ```
    Creates Stripe PaymentIntent, returns client secret.
  </Step>
  
  <Step title="Confirm Payment">
    Complete payment on client using Stripe.js with client secret.
  </Step>
  
  <Step title="Check Status">
    ```http
    GET /tracks/{track}/purchase/status
    ```
    Verify purchase completed successfully.
  </Step>
</Steps>

### Purchase Examples

#### Calculate Price Request

```http
POST /api/v1/tracks/123/purchase/calculate-price
Content-Type: application/json

{
  "license_type": "non_exclusive"
}
```

#### Calculate Price Response

```json
{
  "base_price": 2999,
  "platform_fee": 450,
  "processing_fee": 117,
  "total": 3566,
  "currency": "usd",
  "artist_receives": 2432
}
```

#### Initiate Purchase Response

```json
{
  "client_secret": "pi_1234_secret_5678",
  "payment_intent_id": "pi_1234",
  "amount": 3566,
  "currency": "usd"
}
```

### Purchase Error Cases

| Error | HTTP Code | Cause |
|-------|-----------|-------|
| `track_not_for_sale` | 400 | Track doesn't have pricing configured |
| `already_purchased` | 400 | User already owns this license |
| `exclusive_sold` | 400 | Exclusive license already purchased by another user |
| `artist_not_onboarded` | 400 | Artist hasn't completed Stripe Connect setup |
| `payment_failed` | 402 | Stripe payment processing failed |

---

## License Certificates

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/tracks/{track}/generate-license` | ðŸ”’ | Generate license certificate |
| GET | `/tracks/{track}/check-license` | ðŸ”’ | Check if user has license |
| GET | `/tracks/{track}/download-license-pdf` | ðŸ”’ | Download PDF certificate |
| GET | `/verify-license/{uuid}` | ðŸ”“ | Public license verification |
| POST | `/licenses/{uuid}/revoke` | ðŸ”’ | Revoke a license |
| GET | `/user/licenses` | ðŸ”’ | List user's licenses |

### License Examples

#### Check License Response

```json
{
  "has_license": true,
  "license": {
    "uuid": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "type": "non_exclusive",
    "issued_at": "2025-10-15T14:30:00Z",
    "status": "active"
  }
}
```

#### Public Verification Response

```json
{
  "valid": true,
  "license": {
    "type": "Non-Exclusive License",
    "track": "Midnight Chase",
    "artist": "ProducerName",
    "licensee": "BuyerName",
    "issued_at": "2025-10-15",
    "status": "active"
  }
}
```

### License Error Cases

| Error | HTTP Code | Cause |
|-------|-----------|-------|
| `no_purchase` | 404 | User hasn't purchased this track |
| `license_not_found` | 404 | License UUID doesn't exist |
| `already_revoked` | 400 | License was already revoked |
| `not_owner` | 403 | User doesn't own this license |

---

## Artists

### Core Artist Endpoints

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/artists` | ðŸ”“ | List artists |
| GET | `/artists/{artist}` | ðŸ”“ | Get artist details |
| POST | `/artists` | ðŸ”’ | Create artist |
| PUT | `/artists/{artist}` | ðŸ”’ | Update artist |
| DELETE | `/artists/{ids}` | ðŸ”’ | Delete artist(s) |
| GET | `/artists/{artist}/tracks` | ðŸ”“ | Artist's tracks |
| GET | `/artists/{artist}/albums` | ðŸ”“ | Artist's albums |
| GET | `/artists/{artist}/followers` | ðŸ”“ | Artist's followers |

### Artist Follow System

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/artists/{artistId}/follow` | ðŸ”’ | Follow artist |
| POST | `/artists/{artistId}/unfollow` | ðŸ”’ | Unfollow artist |
| GET | `/artists/{artistId}/follow-status` | ðŸ”“ | Check follow status |

### Artist Analytics

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/artists/{artist}/producer-analytics` | ðŸ”“ | Producer analytics |
| GET | `/artists/{artist}/downloads-analytics` | ðŸ”“ | Downloads breakdown |
| GET | `/artists/{artist}/producer-achievements` | ðŸ”“ | Achievement list |

### Track Pinning

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/artists/{artistId}/tracks/{trackId}/pin` | ðŸ”’ | Pin track to profile |
| POST | `/artists/{artistId}/tracks/{trackId}/unpin` | ðŸ”’ | Unpin track |
| GET | `/artists/{artistId}/pinned-track` | ðŸ”“ | Get pinned track |

---

## Albums

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/albums` | ðŸ”“ | List albums |
| GET | `/albums/{album}` | ðŸ”“ | Get album details |
| POST | `/albums` | ðŸ”’ | Create album |
| PUT | `/albums/{album}` | ðŸ”’ | Update album |
| DELETE | `/albums/{ids}` | ðŸ”’ | Delete album(s) |
| GET | `/albums/{album}/producer-analytics` | ðŸ”“ | Album analytics |

---

## Playlists

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/playlists` | ðŸ”“ | List playlists |
| GET | `/playlists/{id}` | ðŸ”“ | Get playlist details |
| POST | `/playlists` | ðŸ”’ | Create playlist |
| PUT | `/playlists/{playlist}` | ðŸ”’ | Update playlist |
| DELETE | `/playlists/{ids}` | ðŸ”’ | Delete playlist(s) |
| POST | `/playlists/{id}/follow` | ðŸ”’ | Follow playlist |
| POST | `/playlists/{id}/unfollow` | ðŸ”’ | Unfollow playlist |

### Playlist Tracks

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/playlists/{id}/tracks` | ðŸ”“ | Get playlist tracks |
| POST | `/playlists/{playlist}/tracks/add` | ðŸ”’ | Add tracks |
| POST | `/playlists/{playlist}/tracks/remove` | ðŸ”’ | Remove tracks |
| POST | `/playlists/{playlist}/tracks/order` | ðŸ”’ | Reorder tracks |

### Collaborative Playlists

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/playlists/{playlist}/invite` | ðŸ”’ | Invite editor |
| POST | `/playlists/{playlist}/accept-invite` | ðŸ”’ | Accept invite |
| POST | `/playlists/{playlist}/decline-invite` | ðŸ”’ | Decline invite |
| POST | `/playlists/{playlist}/remove-editor` | ðŸ”’ | Remove editor |

---

## Search

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/search` | ðŸ”“ | Full-text search |
| GET | `/search/audio/{trackId}/{artistName}/{trackName}` | ðŸ”“ | Audio search |
| GET | `/search/suggestions/artist` | ðŸ”“ | Artist suggestions |
| GET | `/search/suggestions/album` | ðŸ”“ | Album suggestions |

---

## Messaging

All messaging endpoints require authentication.

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/messaging/conversations` | List conversations |
| GET | `/messaging/conversations/{id}/messages` | Get messages |
| GET | `/messaging/conversations/{id}/messages-with-receipts` | Messages with read receipts |
| POST | `/messaging/messages` | Send message |
| POST | `/messaging/conversations/start` | Start new conversation |
| POST | `/messaging/conversations/{id}/read` | Mark conversation read |
| POST | `/messaging/messages/{id}/read` | Mark message read |
| DELETE | `/messaging/conversations/{id}` | Delete conversation |
| GET | `/messaging/unread-count` | Get unread count |
| GET | `/messaging/search-users` | Search users to message |
| GET | `/messaging/followed-users` | Get followed users |

### Typing Indicators

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/messaging/conversations/{id}/typing` | Set typing status |
| GET | `/messaging/conversations/{id}/typing` | Get typing status |

---

## Beat Requests

All beat request endpoints require authentication.

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/beat-requests` | List beat requests |
| POST | `/beat-requests` | Create beat request |
| GET | `/beat-requests/{id}` | Get request details |
| DELETE | `/beat-requests/{id}` | Delete request |
| POST | `/beat-requests/{id}/fulfill` | Fulfill request |
| GET | `/beat-requests/user/my-requests` | User's own requests |
| GET | `/beat-requests/user/rate-limit-status` | Check rate limit |
| GET | `/beat-requests/statistics` | Platform statistics |

---

## Producer Intelligence

### Public Endpoints (No Auth Required)

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/producer-intelligence/leaderboard` | Global leaderboards |
| GET | `/producer-intelligence/collaboration-leaderboard` | Collaboration rankings |
| POST | `/producer-intelligence/tracks/growth-batch` | Batch track growth rates |
| GET | `/producer-intelligence/track/{trackId}/growth` | Single track growth |

### Authenticated Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/producer-intelligence/dashboard` | Full dashboard data |
| GET | `/producer-intelligence/xp-sources` | XP breakdown |
| GET | `/producer-intelligence/achievements` | User achievements |
| GET | `/producer-intelligence/achievements/{id}/details` | Achievement details |
| GET | `/producer-intelligence/producer-level` | Current level/XP |
| GET | `/producer-intelligence/progress-data` | Combined progress |

### Social Analytics

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/producer-intelligence/social-analytics` | Social metrics |
| GET | `/producer-intelligence/social-activity-feed` | Activity feed |
| GET | `/producer-intelligence/collaboration-network` | Network graph |
| GET | `/producer-intelligence/trending-collaborations` | Trending collabs |
| GET | `/producer-intelligence/collaboration-opportunities` | Suggested collabs |

---

## Contribution & Payouts

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/producer/earnings` | ðŸ”“ | Earnings estimate |
| GET | `/producer/track-breakdown` | ðŸ”“ | Per-track breakdown |
| GET | `/tracks/{track}/contribution` | ðŸ”“ | Track contribution |
| POST | `/producer/update-contributions` | ðŸ”’ | Update contributions |
| GET | `/platform/stats` | ðŸ”“ | Platform statistics |
| GET | `/platform/top-tracks` | ðŸ”“ | Top performing tracks |

### Payout Analytics

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/payout/analytics` | ðŸ”“ | Payout analytics |
| GET | `/payout/projections` | ðŸ”“ | Earnings projections |
| GET | `/payout/trends` | ðŸ”“ | Trend data |
| GET | `/payout/leaderboard` | ðŸ”“ | Payout leaderboard |
| GET | `/payout-cycle` | ðŸ”“ | Current payout cycle |
| GET | `/producer/payout-history` | ðŸ”“ | History |
| GET | `/producer/contribution-trends` | ðŸ”“ | Contribution trends |

---

## Stripe Connect (Artists)

All endpoints require authentication.

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/artist/stripe-connect/status` | Onboarding status |
| POST | `/artist/stripe-connect/onboard` | Create onboarding link |
| GET | `/artist/stripe-connect/finances` | Financial overview |
| GET | `/artist/subscription-payouts` | Subscription payouts |
| GET | `/artist/subscription-payouts/summary` | Payout summary |
| GET | `/artist/unified-transactions` | All transactions |

---

## User Profile & Library

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/user-profile/{user}` | ðŸ”“ | Get user profile |
| PUT | `/users/profile/update` | ðŸ”’ | Update profile |
| GET | `/users/{user}/liked-tracks` | ðŸ”“ | Liked tracks |
| GET | `/users/{user}/liked-albums` | ðŸ”“ | Liked albums |
| GET | `/users/{user}/liked-artists` | ðŸ”“ | Liked artists |
| GET | `/users/{user}/playlists` | ðŸ”“ | User playlists |
| GET | `/users/{user}/followers` | ðŸ”“ | User followers |
| GET | `/users/{user}/followed-users` | ðŸ”“ | Following list |
| POST | `/users/me/add-to-library` | ðŸ”’ | Add to library |
| POST | `/users/me/remove-from-library` | ðŸ”’ | Remove from library |

### User Following

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/users/{id}/follow` | ðŸ”’ | Follow user |
| POST | `/users/{id}/unfollow` | ðŸ”’ | Unfollow user |
| GET | `/users/{id}/follow-status` | ðŸ”“ | Check follow status |

---

## Audio Fingerprinting

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| POST | `/tracks/{track}/fingerprint` | ðŸ”’ | Generate fingerprint |
| GET | `/tracks/{track}/fingerprint/status` | ðŸ”’ | Check status |
| POST | `/tracks/check-duplicates` | ðŸ”’ | Check for duplicates |

---

## Genres & Tags

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/genres` | ðŸ”“ | List genres |
| GET | `/genres/{name}` | ðŸ”“ | Genre details |
| GET | `/tags/{tagName}/tracks` | ðŸ”“ | Tracks by tag |
| GET | `/tags/{tagName}/albums` | ðŸ”“ | Albums by tag |

---

## Leaderboards

| Method | Endpoint | Auth | Description |
|--------|----------|------|-------------|
| GET | `/leaderboard/stats` | ðŸ”“ | Leaderboard statistics |
| GET | `/leaderboards/global` | ðŸ”“ | Global rankings |
| GET | `/leaderboards/genre/{genre}` | ðŸ”“ | Genre rankings |
| GET | `/leaderboards/rising-stars` | ðŸ”“ | Rising producers |
| GET | `/leaderboards/achievements` | ðŸ”“ | Achievement leaders |

---

## Error Codes

| Code | Status | Description |
|------|--------|-------------|
| 400 | Bad Request | Invalid parameters |
| 401 | Unauthorized | Missing or invalid token |
| 403 | Forbidden | Insufficient permissions |
| 404 | Not Found | Resource doesn't exist |
| 422 | Unprocessable Entity | Validation failed |
| 429 | Too Many Requests | Rate limit exceeded |
| 500 | Server Error | Internal error |

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Authentication" icon="key" href="/api/auth">
    Set up API authentication.
  </Card>
  <Card title="Rate Limits" icon="gauge" href="/api/rate-limits">
    Understand usage limits.
  </Card>
</CardGroup>
